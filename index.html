<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>David Melis: The Countdown</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #FFC75F, #FF6F61);
      background-attachment: fixed;
    }
    h1, h2 { font-family: 'Pacifico', cursive; }
    .door { transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; background-size: cover; background-position: center; position: relative; border: 3px solid #fff; box-shadow: 0 4px 6px rgba(0,0,0,0.1);}
    .door-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: rgba(255,255,255,0.85); font-size: 2rem; font-weight: bold; color: #333; border-radius: 0.75rem; pointer-events: none;}
    .door:hover:not(.locked) { transform: scale(1.05) rotate(-2deg); box-shadow: 0 15px 25px rgba(0,0,0,0.2);}
    .locked { cursor: not-allowed; filter: grayscale(80%) brightness(0.8); opacity: 0.7;}
    .open .door-overlay { background-color: rgba(255,255,255,0.6); color: #4a5568;}
    .hero { background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('the party.png'); background-attachment: fixed; background-position: center; background-repeat: no-repeat; background-size: cover;}
    .image-clickable { cursor: pointer;}
    .strikethrough { text-decoration: line-through;}
  </style>
</head>
<body class="text-gray-800">

  <!-- Hero -->
  <div class="hero min-h-screen flex items-center justify-center text-white">
    <div class="p-8 text-center">
      <h1 class="text-5xl md:text-8xl font-bold">David Melis is Finally Getting Married</h1>
      <p class="mt-4 text-2xl md:text-4xl font-light">30 days to go - the final countdown begins.</p>
    </div>
  </div>

  <!-- Countdown -->
  <main class="py-12 px-4">
    <div class="text-center mb-8">
      <h2 class="text-4xl md:text-6xl font-bold">The 30-Day Countdown</h2>
      <p class="mt-4 text-lg md:text-xl text-white font-semibold">Each day, a door unlocks with a surprise.</p>
    </div>
    <div id="countdown-grid" class="grid grid-cols-5 md:grid-cols-6 gap-4 max-w-5xl mx-auto"></div>
  </main>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden p-4">
    <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
      <div class="flex justify-between items-start mb-4">
        <h2 id="modal-title" class="text-2xl md:text-3xl font-bold"></h2>
        <button id="close-modal" class="text-gray-400 hover:text-gray-600">
          ‚úï
        </button>
      </div>
      <div id="modal-content" class="text-gray-700 space-y-4"></div>
    </div>
  </div>

  <script>
    const countdownDays = 30;
    const today = 26; // adjust daily
    const alwaysUnlocked = [28,29,30,27]; // crossed-off + accessible
    const dailyContent = {
      27: {
        title: "Cinema Voucher",
        content: `
          <p>Your cinema voucher for your first movie as a married couple! ü•Ç</p>
          <a href="voucher.pdf" class="inline-block bg-yellow-500 px-4 py-2 rounded-lg text-white mt-4">Download Voucher</a>
        `
      },
      28: {
        title: "Funny YouTube Short",
        content: `<iframe width="100%" height="315" src="https://www.youtube.com/embed/VIDEOID" frameborder="0" allowfullscreen></iframe>`
      },
      26: {
        title: "Special Quiz ‚Äì Unlock Today's Surprise",
        content: `
          <p><strong>Wer waren die 2 ber√ºhmtesten Rennradfahrer in deinem Kinderzimmer</strong> ‚Äì ‚ÄúLA Raselmoef‚Äù und ‚ÄúNY (placeholder)‚Äù?<br>
          Gib den richtigen Nachnamen ein, um das Geschenk zu entsperren.</p>
          <input type="text" id="quiz-answer" placeholder="Antwort hier eingeben" class="border px-3 py-2 rounded w-full mb-3"/>
          <button id="unlock-btn" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded">Unlock</button>
          <div id="quiz-feedback" class="mt-3 text-red-600 font-semibold hidden"></div>
        `
      }
    };

    const grid = document.getElementById("countdown-grid");
    for (let day = countdownDays; day >= 1; day--) {
      const door = document.createElement("div");
      door.className = "door rounded-xl aspect-square flex items-center justify-center bg-gradient-to-br from-yellow-200 to-yellow-400";
      const overlay = document.createElement("div");
      overlay.className = "door-overlay rounded-xl";
      overlay.textContent = day;
      if (alwaysUnlocked.includes(day)) {
        door.classList.add("open");
        overlay.classList.add("strikethrough");
      } else if (day > today) {
        door.classList.add("locked");
      } else {
        door.classList.add("open");
      }
      door.appendChild(overlay);
      grid.appendChild(door);

      door.addEventListener("click", () => {
        if (door.classList.contains("locked")) return;
        const content = dailyContent[day];
        document.getElementById("modal-title").textContent = `Day ${day}` + (content?.title ? `: ${content.title}` : "");
        document.getElementById("modal-content").innerHTML = content?.content || "<p>No content yet.</p>";
        document.getElementById("modal").classList.remove("hidden");

        if(day === 26){
          document.getElementById("unlock-btn").addEventListener("click", () => {
            const val = document.getElementById("quiz-answer").value.trim().toLowerCase();
            if(val === "radelkamp"){
              document.getElementById("modal-content").innerHTML = `
                <p>Hey busy boy - today we got you covered!!<br>
                Flowers in your name will be delivered to your future wife saying:<br>
                <em>"I cannot wait to marry you."</em><br>
                She is going to love it :)</p>`;
            } else {
              document.getElementById("quiz-feedback").textContent = "Falsche Antwort, versuch es nochmal!";
              document.getElementById("quiz-feedback").classList.remove("hidden");
            }
          });
        }
      });
    }

    document.getElementById("close-modal").addEventListener("click", () => {
      document.getElementById("modal").classList.add("hidden");
    });
  </script>
</body>
</html>
